<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <input id="inputField" onkeydown="return keydown(event)" type="text">
    <div id="outputField"></div>
    <script>

        const morseCodeArray = ['.-', '-...', '-.-.', '-..', '.', '..-.', '--.', '....', '..', '.---', '-.-', '.-..', '--', '-.', '---',
            '.--.', '--.-', '.-.', '...', '-', '..-', '...-', '.--', '-..-', '-.--', '--..', '/', '·−·−', '−−−·', '·−−·−'];

        const alphabet = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m",
            "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", " ", "æ", "ø", "å"];
        let newString;
        let outputField = document.getElementById('outputField');
        function keydown(keyPressedEvent) {

            let inputFieldObject = document.getElementById('inputField');
            if (keyPressedEvent.key == "Enter") {
                newString = inputFieldObject.value;
                inputFieldObject.value = "";

                outputField.innerHTML = newString;
                outputField.innerHTML += "<br>" + translate(newString);
            }
        }


        function translate(text) {
            let newText = ""

            text = text.toLowerCase();
            for (let i = 0; i < text.length; i++) {
                /*                 for (let j = 0; j < alphabet.length; j++) {
                                    if (text.charAt(i) == alphabet[j]) {
                                        newText += morseCodeArray[j];
                                        newText += " ";
                                        break;
                                    }
                                } */

                myIndex = alphabet.indexOf(text.charAt(i))
                if (myIndex == -1) {
                    newText += "?";
                    newText += " ";
                }

                else {
                    newText += morseCodeArray[myIndex]
                    newText += " ";
                }



            }



            return newText;
        }

    </script>

</body>

</html>